service: env

# configValidationMode: error
provider:
  name: aws
  stage: ${env:RELEASE_STAGE, 'stage'}
  region: ${env:AWS_REGION, 'eu-west-1'}

params:
  default:
    resourcenamespace: '${self:service}-${sls:stage}'
    resourceprefix: '${param:resourcenamespace}-'

    githubBranch: 'master'
    githubToken: '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'
    mainStackName: aisight-
    serviceDesiredCount: ${env:SERVICE_COUNT, 0}
#    virginiaCertificateArn: arn:aws:acm:us-east-1:704225478571:certificate/b830bbdc-ea9a-43d1-8fab-432a9890a82e

    appTaskDifinitionCpu: 0.5vCPU
    appTaskDifinitionMemory: 1GB

resources:
  - ${file(resources/backend.yml)}
